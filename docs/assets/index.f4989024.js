var Ee=Object.defineProperty,ke=Object.defineProperties;var Ae=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var ve=(e,o,l)=>o in e?Ee(e,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[o]=l,N=(e,o)=>{for(var l in o||(o={}))ue.call(o,l)&&ve(e,l,o[l]);if(te)for(var l of te(o))de.call(o,l)&&ve(e,l,o[l]);return e},fe=(e,o)=>ke(e,Ae(o));var pe=(e,o)=>{var l={};for(var t in e)ue.call(e,t)&&o.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&te)for(var t of te(e))o.indexOf(t)<0&&de.call(e,t)&&(l[t]=e[t]);return l};import{r as he,o as C,c as F,a as X,w as Oe,F as ie,b as ge,d as Ce,n as oe,e as A,f as W,g as ye,h as Pe,i as U,j as ne,k as K,l as D,m as we,p as Re,q as He,s as Ie,t as me,u as Le,v as Be,T as ze,x as be,y as _e,z as re,A as Fe}from"./vendor.bb880cae.js";const Te=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function l(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(r){if(r.ep)return;r.ep=!0;const n=l(r);fetch(r.href,n)}};Te();var ce=(e,o)=>{const l=e.__vccOpts||e;for(const[t,r]of o)l[t]=r;return l};const Xe={name:"App",data(){return{currentStepIndex:-1,steps:[{target:".step-1",title:"Hello world",content:"Lorem ipsum dolor sit, amet consectetur adipisicing elit.",popover:{placement:"start",position:"right"}},{target:".step-2",title:"Hello world 2",content:"Lorem ipsum dolor sit, amet consectetur adipisicing elit.",popover:{placement:"end",position:"right"}},{target:".step-3",content:"Hello world 3",popover:{placement:"center",position:"left"}},{target:".step-4",content:"Hello world 4",popover:{placement:"center",position:"top"}},{target:".step-5",content:"Hello world 5",popover:{placement:"start",position:"left"}},{target:".step-6",content:"Hello world 6",popover:{placement:"center",position:"right"}},{target:".step-7",content:"Hello world 7",popover:{placement:"center",position:"left"}}]}},methods:{start(){this.$vgt.start(0)},onAfterStart(){},onAfterEnd(){},onAfterMove(){}}},Ye={class:"app"},We={class:"demo"},Ve=X("h1",{class:"demo-title"}," Vue Guided Tour ",-1),Me=X("p",null,"a vue.js 3 component to guide your visitors",-1),$e={class:"demo-grid"};function je(e,o,l,t,r,n){const s=he("vue-guided-tour");return C(),F(ie,null,[X("div",Ye,[X("div",We,[Ve,Me,X("a",{href:"#",class:"demo-btn",onClick:o[0]||(o[0]=Oe((...v)=>n.start&&n.start(...v),["prevent"]))}," Start the tour ")]),X("div",$e,[(C(!0),F(ie,null,ge(r.steps,(v,w)=>(C(),F("div",{key:w,class:oe(`step step-${w+1}`)},null,2))),128))])]),Ce(s,{stepIndex:r.currentStepIndex,"onUpdate:stepIndex":o[1]||(o[1]=v=>r.currentStepIndex=v),steps:r.steps,onAfterStart:n.onAfterStart,onAfterEnd:n.onAfterEnd,onAfterMove:n.onAfterMove},null,8,["stepIndex","steps","onAfterStart","onAfterEnd","onAfterMove"])],64)}var Ne=ce(Xe,[["render",je]]);const le=(e,o=0)=>{const l=e.getBoundingClientRect();return{top:l.top-o,right:l.right+o,bottom:l.bottom+o,left:l.left-o,width:l.width+o*2,height:l.height+o*2,x:l.x-o,y:l.y-o}},Ke=({top:e,left:o,bottom:l,right:t})=>{const{innerWidth:r,innerHeight:n}=window;return e>=0&&o>=0&&t<=r&&l<=n},Se=({top:e,left:o,bottom:l,right:t})=>{const{innerWidth:r,innerHeight:n}=window;return{top:e<0,left:o<0,right:t>r,bottom:l>n}},Y=e=>e==="top"||e==="bottom",qe={steps:{type:Array,required:!0},stepIndex:{type:Number,default:-1},padding:{type:Number,default:0},pagination:{type:Boolean,default:!0},closeBtn:{type:Boolean,default:!0},allowOverlayClose:{type:Boolean,default:!0},allowKeyboardEvent:{type:Boolean,default:!0},allowEscClose:{type:Boolean,default:!0},allowInteraction:{type:Boolean,default:!0}},De={overlaysRef:{type:Array,required:!0},updatePopover:{type:Boolean,default:!1}},xe={arrow:{type:Boolean,default:!0},offset:{type:Number,default:0},position:{type:String,default:"bottom",validator:function(e){return["top","left","right","bottom"].indexOf(e)!==-1}},placement:{type:String,default:"start",validator:function(e){return["start","center","end"].indexOf(e)!==-1}},autoAdjust:{type:Boolean,default:!0}};const Ge={name:"VueGuidedTourPopover",inheritAttrs:!1,props:N(N({},De),xe),emits:["update:updatePopover"],setup(e,{emit:o}){const l=A(null),t=A(e.position),r=A(0),n=A(0),s=W(()=>{const{top:g,left:m,bottom:y,right:S,width:O,height:x}=e.overlaysRef.center.getBoundingClientRect();return{width:O,height:x,top:g,left:m,bottom:y,right:S}}),v=W(()=>({transform:`translateX(${r.value}px) translateY(${n.value}px)`})),{arrowStyle:w,arrowRect:h,initArrowPositionCoord:I}=Ue(e,r,n,l,t,s);ye(()=>{E()}),Pe(()=>e.updatePopover,()=>{e.updatePopover&&E()});const E=()=>{V(),L(),U(()=>{P(),I(),o("update:updatePopover",!1)})},L=()=>{const{height:g,width:m}=l.value.getBoundingClientRect(),y=e.offset,S=h.value.size,O=t.value,x=e.placement;let k=0,R=0;switch(O){case"bottom":k=s.value.left,R=s.value.bottom+y+S/2;break;case"top":k=s.value.left,R=s.value.top-g-y-S/2;break;case"right":k=s.value.right+y+S/2,R=s.value.top;break;case"left":k=s.value.left-m-y-S/2,R=s.value.top;break}switch(x){case"end":Y(O)?k=k-m+s.value.width:R=R-g+s.value.height;break;case"center":Y(O)?k=k-m/2+s.value.width/2:R=R-g/2+s.value.height/2;break}r.value=k,n.value=R},V=()=>{if(!!e.autoAdjust)if(f(e.position))t.value=e.position;else{if(f(t.value))return;const g=_();t.value=g}},P=()=>{if(!e.autoAdjust)return;const{innerWidth:g,innerHeight:m}=window,H=le(l.value),{height:y,width:S}=H,O=pe(H,["height","width"]),x=Se(O),k=h.value.size,R=h.value.offset,$=k+R*2,a=s.value.top+$,c=s.value.bottom-$,i=s.value.left+$,p=s.value.right-$,d=Se({top:c,bottom:a,left:p,right:i}),j=d.left||d.right,T=d.top||d.bottom;Y(t.value)?x.left?r.value=j?p:0:x.right&&(r.value=j?-S+i:g-S):x.top?n.value=T?c:0:x.bottom&&(n.value=T?-y+a:m-y)},f=g=>{const m=b()[g],{height:y,width:S}=le(l.value),O=Y(g)?y:S,x=e.offset,k=h.value.size;return m>=O+k/2+x},b=()=>{const{innerWidth:g,innerHeight:m}=window,{top:y,left:S,bottom:O,right:x}=e.overlaysRef.center.getBoundingClientRect();return{bottom:m-O,top:y,right:g-x,left:S}},_=()=>{const g=b();return Object.keys(g).sort((m,y)=>f(m)?-1:f(y)?1:g[y]-g[m])[0]};return{popoverRef:l,currentPosition:t,popoverStyle:v,arrowStyle:w}}};function Ue(e,o,l,t,r,n){const s=A(0),v=A(0),w=W(()=>({size:e.arrow?20:0,offset:e.arrow?6:0}));return{arrowStyle:W(()=>({borderWidth:`${w.value.size/2}px`,left:Y(r.value)?"0px":null,top:Y(r.value)?null:"0px",[r.value]:"100%",transform:`translateX(${s.value}px) translateY(${v.value}px)`})),arrowRect:w,initArrowPositionCoord:()=>{if(!e.arrow)return;const{height:E,width:L}=le(t.value),V=e.placement,P=w.value.size,f=w.value.offset;let b=0,_=0;switch(V){case"center":Y(r.value)?b=n.value.left-o.value+n.value.width/2-P/2:_=n.value.top-l.value+n.value.height/2-P/2;break;case"start":Y(r.value)?b=n.value.left-o.value+f:_=n.value.top-l.value+f;break;case"end":Y(r.value)?b=n.value.right-o.value-P-f:_=n.value.bottom-l.value-P-f;break}Y(r.value)?b>=L-P-f?b=L-P-f:b<=f&&(b=f):_>=E-P-f?_=E-P-f:_<=f&&(_=f),s.value=b,v.value=_}}}function Je(e,o,l,t,r,n){return C(),F("div",{ref:"popoverRef",role:"dialog",class:"vgt__popover",style:ne(t.popoverStyle)},[e.arrow?(C(),F("div",{key:0,class:oe(`vgt__arrow vgt__arrow--${t.currentPosition}`),style:ne(t.arrowStyle)},null,6)):K("",!0),D(e.$slots,"close"),D(e.$slots,"default"),D(e.$slots,"nav")],4)}var Qe=ce(Ge,[["render",Je]]);function Ze(e,o,l,t,r){const n=we({width:0,height:0}),s=A([]),v={};["top","left","bottom","right","center"].forEach(a=>{v[a]={width:0,height:0,x:0,y:0,scaleX:1,scaleY:1}});const h=we(v),I=A(!1),E=300,L=A(!1),V=450,P="cubic-bezier(.65,.05,.36,1)",f=W(()=>({width:`${n.width}px`,height:`${n.height}px`,overflow:"hidden",position:"absolute",top:"0px",left:"0px",opacity:I.value?"0.65":"0",visibility:I.value?"visible":"hidden","pointer-events":e.allowInteraction&&"none",transition:`${E}ms opacity, ${E}ms visibility`})),b=W(()=>a=>{const c=h[a];if(!c)return null;const i={position:"absolute"};let p=null;return a==="bottom"?(i.bottom="0px",p="bottom left"):a==="right"?(i.right="0px",p="top right"):(i.top="0px",i.left="0px",p="top left"),fe(N({width:`${c.width}px`,height:`${c.height}px`,transform:`translate3d(${c.x}px, ${c.y}px, 0) scale3d(${c.scaleX}, ${c.scaleY}, 1)`},i),{transformOrigin:p})}),_=(a,c)=>{const i=n.width,p=n.height,d=200,j=e.steps[c].padding?e.steps[c].padding:e.padding,{top:T,left:H,right:q,bottom:M,width:J,height:se}=le(a,j),ae={width:d,height:d,x:0,y:T+window.scrollY<0?-d+T+window.scrollY:0,scaleX:i/d,scaleY:T+window.scrollY<0?1:(T+window.scrollY)/d},Q={width:d,height:d,x:H+window.scrollX<0?-d+H+window.scrollX:0,y:0,scaleX:H+window.scrollX<0?1:(H+window.scrollX)/d,scaleY:p/d},Z={width:d,height:d,x:q+window.scrollX>i?-(i-(q+window.scrollX))+d:0,y:0,scaleX:q+window.scrollX>i?1:(i-(q+window.scrollX))/d,scaleY:p/d},ee={width:d,height:d,x:0,y:M+window.scrollY>p?-(p-(M+window.scrollY))+d:0,scaleX:i/d,scaleY:M+window.scrollY>p?1:(p-(M+window.scrollY))/d},u={width:J,height:se,x:H+window.scrollX,y:T+window.scrollY,scaleX:1,scaleY:1};return{top:ae,left:Q,right:Z,bottom:ee,center:u}},g=()=>{const a=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),c=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth);n.width=c,n.height=a},m=()=>{n.width=0,n.height=0},y=()=>{const a=_(t.value,o.value);for(const c in h){const i=h[c];i.width=a[c].width,i.height=a[c].height,i.x=a[c].x,i.y=a[c].y,i.scaleX=a[c].scaleX,i.scaleY=a[c].scaleY}},S=()=>{const a=_(r.value,l.value),c=_(t.value,o.value);for(const i in h){const p=h[i];i==="center"?(p.x+=a[i].x-c[i].x,p.y+=a[i].y-c[i].y,p.scaleX=a[i].width/c[i].width,p.scaleY=a[i].height/c[i].height):(p.x=a[i].x,p.y=a[i].y,p.scaleX=a[i].scaleX,p.scaleY=a[i].scaleY)}},O=(a=void 0)=>{for(const c in h)s.value[c].style.transition=`${V}ms transform ${P}`;y(),setTimeout(()=>{for(const c in h)s.value[c].style.transition="";L.value=!1,a&&a()},V)},x=()=>{!I.value||L.value||(m(),U(()=>{g(),y()}))};return{overlaysRef:s,overlaysRect:h,overlaysRectStyle:b,overlayWrapperStyle:f,active:I,moving:L,overlayUpdate:x,overlayFadeIn:(a=void 0)=>{I.value=!0,x(),L.value=!0,setTimeout(()=>{L.value=!1,a&&a()},E)},overlayFadeOut:(a=void 0)=>{I.value=!1,setTimeout(()=>{m(),a&&a()},E)},overlayMove:a=>{L.value=!0,m(),U(()=>{g(),y(),S(),setTimeout(()=>{O(a)},16)})}}}const et={name:"VueGuidedTour",components:{"vgt-popover":Qe},props:N(N({},qe),xe),emits:["update:stepIndex","afterStart","afterEnd","afterMove"],setup(e,{emit:o}){const l=A(null),t=A(!1),r=A(!1),n=A(e.stepIndex),s=A(null),v=A(null),w=A(null);let h=null,I=!1;const E=Re("$vgt"),L=W(()=>e.steps[n.value]),V=W(()=>n.value===0),P=W(()=>n.value===e.steps.length-1),{active:f,moving:b,overlaysRef:_,overlaysRect:g,overlaysRectStyle:m,overlayWrapperStyle:y,overlayUpdate:S,overlayFadeIn:O,overlayFadeOut:x,overlayMove:k}=Ze(e,n,v,s,w),{getHighlightEl:R,addHighlight:$,removeHighlight:a}=tt();He(()=>{_.value=[]}),ye(()=>{E.start=c,E.next=i,E.prev=p,E.end=d,E.move=j,window.addEventListener("keydown",J),window.addEventListener("keyup",M),window.addEventListener("resize",Q),window.addEventListener("scroll",Z)}),Ie(()=>{window.removeEventListener("keydown",J),window.removeEventListener("keyup",M),window.removeEventListener("resize",Q),window.removeEventListener("scroll",Z)});const c=(u=0)=>{f.value||H(u)},i=()=>{if(!f.value||b.value)return;const u=n.value+1;u>e.steps.length-1||H(u)},p=()=>{if(!f.value||b.value)return;const u=n.value-1;u<0||H(u)},d=()=>{if(!f.value||b.value)return;H(-1)},j=(u=0)=>{u===n.value||!f.value||b.value||H(u)},T=()=>{!f.value||b.value||(S(),U(()=>{r.value=!0}))},H=u=>{const B=R(u,e.steps);if(!B&&u!==-1)return;if(t.value=!1,a(),q(u,B),u===-1){x(()=>{o("afterEnd")});return}Ke(B.getBoundingClientRect())||(I=!0,B.scrollIntoView({block:"center"}));const z=()=>{I=!1,$(B),t.value=!0,U(()=>{const G=ee();G.length>0&&G[0].focus()}),o(w.value?"afterMove":"afterStart")};w.value?k(z):O(z)},q=(u,B)=>{v.value=n.value,n.value=u,o("update:stepIndex",n.value),u===-1?(w.value=null,s.value=null):(w.value=s.value,s.value=B)},M=u=>{if(!(!f.value||!e.allowKeyboardEvent))switch(u.key){case"Escape":e.allowEscClose&&d();break;case"ArrowLeft":p();break;case"ArrowRight":i();break}},J=u=>{if(!f.value)return;const B=ee();switch(u.key){case"Tab":if(B.length===0)u.preventDefault();else{const z=B[0],G=B[B.length-1];u.shiftKey?document.activeElement===z&&(G.focus(),u.preventDefault()):document.activeElement===G&&(z.focus(),u.preventDefault())}break;case"ArrowLeft":case"ArrowRight":e.allowKeyboardEvent&&u.preventDefault();break}},se=()=>{!e.allowOverlayClose||d()},ae=()=>{d()},Q=()=>{h&&window.cancelAnimationFrame(h),h=window.requestAnimationFrame(T)},Z=()=>{I||(h&&window.cancelAnimationFrame(h),h=window.requestAnimationFrame(T))},ee=()=>{const u="button, [href], input, select, textarea, [tabindex]";return[...l.value.querySelectorAll(u)].filter(z=>{if(parseInt(z.getAttribute("tabindex"),10)<0||z.disabled)return!1;for(;z;){if(getComputedStyle(z).display==="none"||getComputedStyle(z).visibility==="hidden")return!1;z=z.parentElement}return!0})};return{vgtRef:l,showPopover:t,updatePopover:r,currentStepIndex:n,currentStep:L,isFirstStep:V,isLastStep:P,active:f,overlaysRef:_,overlaysRect:g,overlaysRectStyle:m,overlayWrapperStyle:y,onStart:c,onNext:i,onPrev:p,onEnd:d,onMove:j,onKeyUp:M,onOverlayClick:se,onCloseClick:ae,onUpdate:T}}};function tt(){const e="vgt__target--highlighted";return{getHighlightEl:(r,n)=>{if(typeof r!="number"||r<0||r>n.length-1)return;const s=n[r].target,v=document.querySelector(`${s}`);if(s){if(!v){console.warn(`[vue-guided-tour] : Target to highlight "${s}" not found`);return}}else{console.warn(`[vue-guided-tour] : Target is required in step ${r}`);return}return v},addHighlight:r=>{r.classList.add(e)},removeHighlight:()=>{document.querySelectorAll(`.${e}`).forEach(n=>{n.classList.remove(e)})}}}const ot={class:"vgt__body"},nt={key:0,class:"vgt__title"},rt={key:1,class:"vgt__content"},lt={class:"vgt__footer"},st={key:0,class:"vgt__pages"},at={class:"vgt__nav"};function it(e,o,l,t,r,n){const s=he("vgt-popover");return C(),me(ze,{to:"body"},[X("div",{ref:"vgtRef",class:oe(["vue-guided-tour",t.active&&"vgt--active"])},[X("div",{class:"vgt__overlay-wrapper",style:ne(t.overlayWrapperStyle)},[(C(!0),F(ie,null,ge(t.overlaysRect,(v,w)=>(C(),F("div",{key:w,ref_for:!0,ref:h=>{h&&(t.overlaysRef[w]=h)},class:oe(`vgt__overlay vgt__overlay--${w}`),style:ne(t.overlaysRectStyle(w)),onClick:o[0]||(o[0]=(...h)=>t.onOverlayClick&&t.onOverlayClick(...h))},null,6))),128))],4),t.showPopover&&(t.currentStep.title||t.currentStep.content||e.$slots.content)?(C(),me(s,Le({key:0,"update-popover":t.updatePopover,"onUpdate:update-popover":o[5]||(o[5]=v=>t.updatePopover=v),"overlays-ref":t.overlaysRef,arrow:e.arrow,offset:e.offset,position:e.position,placement:e.placement,"auto-adjust":e.autoAdjust},N({},t.currentStep.popover)),{default:Be(()=>[e.closeBtn?D(e.$slots,"close",{key:0},()=>[X("button",{class:"vgt__close-btn","aria-label":"close",onClick:o[1]||(o[1]=(...v)=>t.onCloseClick&&t.onCloseClick(...v))}," \xD7 ")]):K("",!0),X("div",ot,[D(e.$slots,"content",be(_e({stepIndex:t.currentStepIndex})),()=>[t.currentStep.title?(C(),F("h3",nt,re(t.currentStep.title),1)):K("",!0),t.currentStep.content?(C(),F("div",rt,re(t.currentStep.content),1)):K("",!0)])]),X("div",lt,[e.pagination?(C(),F("div",st,re(t.currentStepIndex+1)+" / "+re(e.steps.length),1)):K("",!0),D(e.$slots,"nav",be(_e({isFirstStep:t.isFirstStep,isLastStep:t.isLastStep})),()=>[X("div",at,[t.isFirstStep?K("",!0):(C(),F("button",{key:0,class:"vgt__btn vgt__btn--secondary vgt__prev-btn",onClick:o[2]||(o[2]=(...v)=>t.onPrev&&t.onPrev(...v))}," Prev ")),t.isLastStep?(C(),F("button",{key:1,class:"vgt__btn vgt__btn--primary vgt__end-btn",onClick:o[3]||(o[3]=(...v)=>t.onEnd&&t.onEnd(...v))}," End ")):(C(),F("button",{key:2,class:"vgt__btn vgt__btn--primary vgt__next-btn",onClick:o[4]||(o[4]=(...v)=>t.onNext&&t.onNext(...v))}," Next "))])])])]),_:3},16,["update-popover","overlays-ref","arrow","offset","position","placement","auto-adjust"])):K("",!0)],2)])}var ct=ce(et,[["render",it]]),ut={install(e){const o={};e.config.globalProperties.$vgt=o,e.provide("$vgt",o),e.component("VueGuidedTour",ct)}};Fe(Ne).use(ut).mount("#app");
